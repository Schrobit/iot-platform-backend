# 系统概念说明

> 2025-12-27 created by Schrobit

## 1. 文档目的

本文档用于对“数字孪生驱动的半导体洁净室环境感知、动态溯源与自适应调控平台”
中的**核心概念、对象定义及其相互关系**进行统一说明，
以建立系统各参与方（前端、后端、设备接入层）对系统的**一致认知模型**。

本文档重点解决“系统中有哪些对象”“每个对象代表什么”“对象之间如何关联”的问题，
不涉及具体技术实现细节。

---

## 2. 系统整体概念

本系统是一个面向洁净室环境管理的物联网系统，
其基本运行逻辑可概括为：

> **环境参数由设备感知 → 经网关汇聚 → 平台统一处理与展示 → 管理员人工下发控制指令 → 执行机构响应**

系统采用“监测为主、控制为辅”的设计理念，
在概念层面将**物理世界对象**与**系统逻辑对象**进行清晰映射。

---

## 3. 核心概念与对象定义

### 3.1 洁净室（Cleanroom）

**定义**  
洁净室是指具备特定洁净等级和工艺要求的受控空间，
是环境监测与调控的**基本管理单元**。

**概念特征**
- 洁净室是环境参数的逻辑归属区域
- 系统中的环境数据、设备、控制目标均可关联到具体洁净室
- 一个系统可包含多个洁净室

**说明**
- 洁净室用于逻辑分区管理，不等同于物理建筑结构
- 洁净室的扩展属性（如面积、等级、位置）以元数据形式描述

---

### 3.2 网关（Gateway）

**定义**  
网关是连接现场设备与平台系统的中间节点，
负责设备数据的汇聚与控制指令的转发。

**概念特征**
- 网关不直接参与环境控制决策
- 网关主要承担通信与连接管理职责
- 网关通常部署在现场侧

**说明**
- 一个网关可以服务多个洁净室
- 一个洁净室也可以由多个网关共同覆盖
- 网关与洁净室之间为**多对多关系**

---

### 3.3 设备（Device）

**定义**  
设备是系统中最小的功能单元，
用于完成**单一环境变量的监测或控制**。

**设备类型说明**
- 传感设备：用于采集环境数据
- 执行设备：用于执行控制指令

**单变量设备原则**
- 一个设备只负责一个物理量
- 温度、湿度等复合传感器在系统中拆分为多个逻辑设备
- 例如：
  - 温度传感器 → 温度设备
  - 湿度传感器 → 湿度设备

**说明**
- 该设计有利于数据建模与控制逻辑简化
- 设备是数据采集、控制与展示的基本对象

---

### 3.4 监测变量（Metric）

**定义**  
监测变量是指洁净室环境中被系统感知和管理的物理量。

**系统支持的监测变量包括**
- 粒子浓度
- 温度
- 湿度
- 微压差
- 微震动

**说明**
- 每个监测变量与一个设备一一对应
- 监测变量是环境状态表达的核心维度

---

### 3.5 执行机构（Actuator）

**定义**  
执行机构是用于响应控制指令、对物理环境产生实际影响的设备或系统。

**典型执行机构**
- FFU 风机过滤器单元
- 空调机组
- 加湿器 / 除湿器
- 送风阀 / 回风阀
- 主动隔振平台

**说明**
- 执行机构在概念层面可视为可控设备
- 执行机构不直接参与数据采集

---

### 3.6 控制命令（Command）

**定义**  
控制命令是系统向执行设备下发的操作指令，
用于改变执行机构的运行状态或参数。

**典型控制形式**
- 设置目标值（如目标温度）
- 调节运行参数（如风机转速）
- 启停执行设备

**说明**
- 控制命令由管理员触发
- 控制命令在系统中具备可追溯性

---

### 3.7 设备影子（Device Shadow）（后续拓展，前期暂不考虑）

**定义**  
设备影子是系统中用于描述设备“当前状态”和“期望状态”的逻辑对象。

**核心作用**
- 记录设备最近一次上报的实际状态
- 记录系统期望设备达到的目标状态
- 解耦实时设备状态与平台业务逻辑

**说明**
- 设备影子不代表真实设备
- 是系统用于状态管理的逻辑抽象

---

## 4. 对象之间的关系说明

### 4.1 洁净室、网关与设备关系

- 洁净室与网关：多对多
- 网关与设备：一对多
- 洁净室与设备：一对多（逻辑归属）

---

### 4.2 设备与数据关系

- 一个设备产生一类监测数据
- 设备数据具有时间序列特性
- 历史数据用于趋势分析与回溯

---

### 4.3 控制关系

- 管理员 → 控制命令 → 执行设备
- 控制行为与设备状态变化可被记录和展示

---

## 5. 概念边界说明

为避免概念混淆，特此明确：

- 系统不对洁净室的物理结构进行建模
- 系统不对设备内部控制逻辑进行抽象
- 系统不定义自动决策与智能控制策略
- 系统概念模型以“监测 + 人工控制”为核心

---

## 6. 小结

通过对系统核心对象与概念的统一定义，
本系统在概念层面实现了：

- 对洁净室环境的结构化认知
- 对设备与数据关系的清晰建模
- 对后续数据模型、消息模型与接口设计的有效支撑

本文档为后续系统设计文档提供了**统一的概念基础**。
